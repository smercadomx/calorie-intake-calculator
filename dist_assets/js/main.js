'use strict';if('serviceWorker'in navigator)window.addEventListener('load',function(){navigator.serviceWorker.register('sw.js').then(function(a){console.log('ServiceWorker registration successful with scope: ',a.scope)},function(a){console.log('ServiceWorker registration failed: ',a)})});else if('applicationCache'in window){var iframe=document.createElement('iframe');iframe.style.display='none',iframe.src='load-appcache.html',document.body.appendChild(iframe),window.addEventListener('load',function(){window.applicationCache.addEventListener('updateready',function(){window.applicationCache.status==window.applicationCache.UPDATEREADY&&confirm('A new version of this site is available. Load it?')&&window.location.reload()},!1)},!1)}function toJSON(a){var b,c={},d=a.querySelectorAll('input, select, textarea');for(b=0;b<d.length;++b){var e=d[b],f=e.name,g=e.value;('radio'!==e.type||!1!==e.checked)&&f&&(c[f]=g)}return c}var calculatorForm=document.querySelector('#form'),resultContainer=document.querySelector('.result'),submitButton=document.querySelector('button'),submitButtonLabel=submitButton.innerText;calculatorForm.addEventListener('submit',function(a){a.preventDefault(),submitButton.disabled=!0,submitButton.innerText='loading...',setTimeout(function(){var a=toJSON(calculatorForm),b=30.48*parseFloat(a.heightFeet,10),c=a.heightInches?2.54*parseFloat(a.heightInches,10):0,d=getBMR(a.age,a.sex,b+c,a.weight)*parseFloat(a.exercise,10);resultContainer.innerHTML='To maintain weight you need <strong>'+d.toFixed(2)+' calories</strong><br>',resultContainer.innerHTML+='To loose 1lb a week you need <strong>'+(d-500).toFixed(2)+' calories</strong><br>',resultContainer.innerHTML+='To gain 1lb a week you need <strong>'+(d+500).toFixed(2)+' calories</strong>',resultContainer.focus(),submitButton.innerText=submitButtonLabel,submitButton.disabled=!1},250)});